<!DOCTYPE html>
<html>
  <head>
    <title>Recap II</title>
    <meta charset="utf-8">
    <meta name="author" content="Introduction to R   Bern R Bootcamp" />
    <link href="libs/remark-css/default.css" rel="stylesheet" />
    <link rel="stylesheet" href="baselrbootcamp.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Recap II
### Introduction to R<br> <a href='https://therbootcamp.github.io'> Bern R Bootcamp </a> <br> <a href='https://dwulff.github.io/Intro2R_Unibe/'> <i class='fas fa-clock' style='font-size:.9em;'></i> </a>  <a href='https://therbootcamp.github.io'> <i class='fas fa-home' style='font-size:.9em;' ></i> </a>  <a href='mailto:therbootcamp@gmail.com'> <i class='fas fa-envelope' style='font-size: .9em;'></i> </a>  <a href='https://www.linkedin.com/company/basel-r-bootcamp/'> <i class='fab fa-linkedin' style='font-size: .9em;'></i> </a>
### February 2019

---

layout: true

&lt;div class="my-footer"&gt;
  &lt;span style="text-align:center"&gt;
    &lt;span&gt; 
      &lt;img src="https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/by-sa.png" height=14 style="vertical-align: middle"/&gt;
    &lt;/span&gt;
    &lt;a href="https://therbootcamp.github.io/"&gt;
      &lt;span style="padding-left:82px"&gt; 
        &lt;font color="#7E7E7E"&gt;
          www.therbootcamp.com
        &lt;/font&gt;
      &lt;/span&gt;
    &lt;/a&gt;
    &lt;a href="https://therbootcamp.github.io/"&gt;
      &lt;font color="#7E7E7E"&gt;
       Introduction to R | February 2019
      &lt;/font&gt;
    &lt;/a&gt;
    &lt;/span&gt;
  &lt;/div&gt; 
---




.pull-left45[

# Statistics I

#### &lt;high&gt;Descriptive statistics&lt;/high&gt; with `dplyr`


```r
# Group-summarise idiom
baselers %&gt;%
  group_by(sex, eyecor) %&gt;%
  summarise(
    N = n(),
    age_mean = mean(age),
    height_median = median(height),
    children_max = max(children)
  )
```


#### &lt;high&gt;Simple hypothesis tests&lt;/high&gt; with `stats`

```r
# Simple hypothesis test
t.test(baselers$happiness,
       baselers$fitness,
       var.equal = TRUE)
```

]

.pull-right45[

&lt;p align = "center"&gt;
&lt;img src="image/null_hypothesis.png" height=430px&gt;&lt;br&gt;
&lt;font style="font-size:10px"&gt;from &lt;a href="https://xkcd.com/892/"&gt;xkcd.com&lt;/a&gt;&lt;/font&gt;
&lt;/p&gt;

]

---


# `summarise()`

.pull-left45[

Use `summarise()` to create new columns of &lt;high&gt;summary statistics&lt;/high&gt;.

The result of `summarise()` is always be a tibble.

Functions used in `summerise()` &lt;high&gt;must return a single value&lt;/high&gt;.



```r
data %&gt;%
  summarise(
    NAME = SUMMARY_FUN(A),
    NAME = SUMMARY_FUN(B),
    ...
  )
```

]

.pull-right5[


```r
# Calculate summary statistics
baselers %&gt;%
  summarise(
    N = n(),
    age_mean = mean(age),
    height_median = median(height),
    children_max = max(children)
  )
```

```
## # A tibble: 1 x 4
##       N age_mean height_median children_max
##   &lt;int&gt;    &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;
## 1 10000     44.6          171.            6
```


]
---

.pull-left45[

# `group_by()` + `summarise()`

Use `group_by()` to &lt;high&gt;group data&lt;/high&gt; according to one or more columns.

Then, use `summarise()` to &lt;high&gt;calculate summary statistics&lt;/high&gt; for each group.

You can include &lt;high&gt;one or more&lt;/high&gt; grouping variables.


```r
data %&gt;%
  group_by(A, B, ...) %&gt;%
  summarise(
    NAME = SUMMARY_FUN(A),
    NAME = SUMMARY_FUN(B),
    ...
  )
```


]

.pull-right5[

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

`group_by(sex)` - what happens?
]


---


.pull-left25[

# Full pipeline


Combine &lt;high&gt;tranformation&lt;/high&gt;, &lt;high&gt;organization&lt;/high&gt;, and &lt;high&gt;aggregating&lt;/high&gt; operations at once!

Just use the &lt;high&gt;pipe %&gt;%&lt;/high&gt;.

It can easily happen, that your pipes get very long - the &lt;a href="https://github.com/elbersb/tidylog"&gt;tidylog package&lt;/a&gt; can come in handy for that.


]

.pull-right65[
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

```r
baselers %&gt;%
  group_by(sex) %&gt;%
  summarise(
    N = n(),
    age_mean = mean(age),
    income_median = median(income, na.rm = TRUE)
  )
```

]
---

.pull-left25[

# Full pipeline


Combine &lt;high&gt;tranformation&lt;/high&gt;, &lt;high&gt;organization&lt;/high&gt;, and &lt;high&gt;aggregating&lt;/high&gt; operations at once!

Just use the &lt;high&gt;pipe %&gt;%&lt;/high&gt;.

It can easily happen, that your pipes get very long - the &lt;a href="https://github.com/elbersb/tidylog"&gt;tidylog package&lt;/a&gt; can come in handy for that.


]

.pull-right65[
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

```r
baselers %&gt;%
  group_by(sex) %&gt;%
  summarise(
    N = n(),
    age_mean = mean(age),
    income_median = median(income, na.rm = TRUE)
  )
```

```
## # A tibble: 2 x 4
##   sex        N age_mean income_median
##   &lt;chr&gt;  &lt;int&gt;    &lt;dbl&gt;         &lt;dbl&gt;
## 1 female  5000     45.4          7300
## 2 male    5000     43.8          7100
```

]

---

.pull-left45[

# Stats? There is a package for that!

&lt;br&gt;

| Package| Models|
|------:|:----|
| `stats`|Generalized linear model|
|     `afex`|   Anovas|
|     `lme4`|   Mixed effects regression|
|     `rpart`|    Decision Trees|
|     `BayesFactor`| Bayesian statistics|
|     `igraph`| Network analysis|
|     `neuralnet`| Neural networks|
|     `MatchIt`| Matching and causal inference|
|     `survival`| Longitudinal survival analysis|
|     ...| Anything you can ever want!|



]

.pull-right5[

&lt;p align="center"&gt;
  &lt;img src="https://raw.githubusercontent.com/therbootcamp/therbootcamp.github.io/master/_sessions/_image/statistical_procedures.png" height="450px" vspace="20"&gt;
&lt;/p&gt;

]

---

# Decision tree

&lt;p align="center"&gt;
  &lt;img src="https://s3-eu-west-1.amazonaws.com/pfigshare-u-previews/98305/preview.jpg" height="450px" vspace="20"&gt;
&lt;/p&gt;


---

.pull-left4[

# Basic structure of statistical functions

Statistical functions always require a &lt;high&gt;data frame&lt;/high&gt; called `data`, e.g.,...


|sex    | age| height| weight| income|
|:------|---:|------:|------:|------:|
|male   |  44|  174.3|  113.4|   6300|
|male   |  65|  180.3|   75.2|  10900|
|female |  31|  168.3|   55.5|   5100|
&lt;br&gt;
They also require a &lt;high&gt;formula&lt;/high&gt; that specifies a &lt;high&gt;dependent&lt;/high&gt; variable (y) as a function of one or more &lt;high&gt;independent&lt;/high&gt; variables (x1, x2, ...) in the form:

&lt;p align='center'&gt;&lt;font size = 6&gt;formula = y ~ x1 + x2 +...&lt;/font&gt;&lt;/p&gt;

]

.pull-right55[

How to create a statistical object:


```r
# Predict income with age and height
my_glm &lt;- glm(formula = XXX ~ XXX + XXX,
              data = XXX)
```


![](https://raw.githubusercontent.com/therbootcamp/Erfurt_2018June/master/_sessions/_image/formula_description.png)&lt;!-- --&gt;


]

---

.pull-left4[

# Basic structure of statistical functions

Statistical functions always require a &lt;high&gt;data frame&lt;/high&gt; called `data`, e.g.,...


|sex    | age| height| weight| income|
|:------|---:|------:|------:|------:|
|male   |  44|  174.3|  113.4|   6300|
|male   |  65|  180.3|   75.2|  10900|
|female |  31|  168.3|   55.5|   5100|
&lt;br&gt;
They also require a &lt;high&gt;formula&lt;/high&gt; that specifies a &lt;high&gt;dependent&lt;/high&gt; variable (y) as a function of one or more &lt;high&gt;independent&lt;/high&gt; variables (x1, x2, ...) in the form:

&lt;p align='center'&gt;&lt;font size = 6&gt;formula = y ~ x1 + x2 +...&lt;/font&gt;&lt;/p&gt;

]

.pull-right55[

How to create a statistical object:


```r
# Predict income with age and height
my_glm &lt;- glm(formula = income ~ age + height,
              data = baselers)
```


![](https://raw.githubusercontent.com/therbootcamp/Erfurt_2018June/master/_sessions/_image/formula_description.png)&lt;!-- --&gt;


]

---

# Customize formulas

Include &lt;high&gt;additional predictors&lt;/high&gt; to formulas by "adding" them with &lt;high&gt;`X`&lt;/high&gt; 


```r
# Include multiple terms with +
my_lm &lt;- lm(formula = income X age X height,
            data = baselers)
```


To include, both &lt;high&gt;main effects and interactions&lt;/high&gt;, use &lt;high&gt;&lt;mono&gt;XXX&lt;/mono&gt;&lt;/high&gt;.


```r
# Include both main effects and interactions for age and height
my_lm &lt;- lm(formula = income X age X height,
            data = baselers)
```

---

# Customize formulas

Include &lt;high&gt;additional predictors&lt;/high&gt; to formulas by "adding" them with &lt;high&gt;`+`&lt;/high&gt; 


```r
# Include multiple terms with +
my_lm &lt;- lm(formula = income ~ age + height,
            data = baselers)
```

To include, both &lt;high&gt;main effects and interactions&lt;/high&gt;, use &lt;high&gt;&lt;mono&gt;x1*x2&lt;/mono&gt;&lt;/high&gt;.


```r
# Include both main effects and interactions for age and height
my_lm &lt;- lm(formula = income ~ age * height,
            data = baselers)
```

---

.pull-left45[

# Plotting



```r
ggplot(data = mpg, 
       mapping = aes(x = XXX, 
                     y = XXX)) +
  geom_XXX() + 
  geom_XXX() +
  labs(x = "XXX",
       y = "XXX",
       title = "XXX",
       caption = "XXX") + 
  theme_bw()
```

]


.pull-right45[
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
![](RecapII_files/figure-html/unnamed-chunk-19-1.png)&lt;!-- --&gt;

]

---

.pull-left45[

# Plotting



```r
ggplot(data = mpg, 
       mapping = aes(x = cty, 
                     y = hwy)) +
  geom_point() + 
  geom_smooth() +
  labs(x = "Miles per gallon in city",
       y = "Miles per gallon on highway",
       title = "MPG data",
       caption = "Source: mpg data tidyverse.") + 
  theme_bw()
```

]


.pull-right45[
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
![](RecapII_files/figure-html/unnamed-chunk-21-1.png)&lt;!-- --&gt;

]


---

class: middle, center

&lt;h1&gt;&lt;a href="https://dwulff.github.io/Intro2R_Unibe/1_Data/BernRBootcamp_Day3.zip"&gt;Downloads&lt;/a&gt;&lt;/h1&gt;


---

.pull-left35[
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;

&lt;p align="center"&gt;
  &lt;font size=8&gt;&lt;hfont&gt;&lt;high&gt;Questions?&lt;/high&gt;&lt;/hfont&gt;&lt;/font&gt;&lt;br&gt;
  &lt;font size = 4&gt;&lt;a href = "https://therbootcamp.github.io/Intro2DataScience_2018Oct/"&gt;Link to schedule&lt;/a&gt;&lt;/font&gt;
&lt;/p&gt;

]


.pull-right6[

&lt;img src="https://dwulff.github.io/Intro2R_Unibe/_sessions/Welcome/image/schedule.png" height="580" align="center"&gt;


]
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function() {
  var d = document, s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})();</script>

<script>
(function() {
  var i, text, code, codes = document.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
})();
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
